<%= render 'layouts/main_css' %>

<!-- BEGIN PAGE TITLE -->
<div class="page-head">
  <div class="page-title">
      <h1>Objectifs
      </h1>
  </div>
</div>
<!-- END PAGE TITLE -->
<%= link_to new_achievement_path do %>
  <button class="btn btn-success margin-bottom-15 margin-top-15">
    <i class="glyphicon glyphicon-plus"></i> Créer un objectif
  </button>
<% end %>

<div class="row">
  <div class="col-md-12">
    <div class="portlet light portlet-fit bordered">
      <div class="portlet-title">
          <div class="caption">
              <i class="fa fa-flag-o font-green" style="font-size: 20px;"></i>
              <span class="caption-subject bold font-green uppercase">Objectifs en cours</span>
          </div>
      </div>
      <div class="portlet-body">
        <div class="row">
          <div class="col-md-12">
            <% if @achievements.size == 0 %>
              <p>
                Pas d'objectif en cours
              </p>
            <% end %>
            <% @achievements.each do |achievement| %>
              <% if !achievement.nil? %>
                <div class="achievement-content">
                  <div class="action">
                      <div class="btn-group">
                          <button class="btn btn-circle green btn-sm dropdown-toggle" type="button" data-toggle="dropdown" data-hover="dropdown" data-close-others="true"> <i class="icon-settings"></i>
                              <i class="fa fa-angle-down"></i>
                          </button>
                          <ul class="dropdown-menu pull-right" role="menu">
                            <li>
                              <%= link_to "Editer l'objectif", edit_achievement_path(achievement) %>
                            </li>
                            <li>
                              <%= link_to "Supprimer l'objectif", achievement, method: :delete, data: { confirm: 'Êtes-vous sure?' } %>
                            </li>
                        </ul>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      Date de debut: <br />
                      <i class="fa fa-calendar-o font-green" style="font-size: 14px;"></i>
                      <%= achievement.start_date.strftime('%d/%m/%Y') %>
                    </div>
                    <div class="col-md-6">
                      Date de fin d'objectif: <br />
                      <i class="fa fa-calendar-o font-green" style="font-size: 14px;"></i>
                      <%= achievement.due_date.strftime('%d/%m/%Y') %>
                    </div>
                  </div>
                  <div class="row margin-top-20">
                    <div class="col-md-12">
                      Description de l'objectif: <br />
                      <textarea class="form-control" disabled><%= achievement.content %>
                      </textarea>
                    </div>
                  </div>
                  <div class="row margin-top-20 margin-bottom-20">
                    <div class="col-md-6">
                      Le type de l'objectif: <br />
                      <input type="text" class="form-control" disabled value="<%= achievement.get_type_in_french %>" />
                    </div>
                    <div class="col-md-6">
                      La valeur a atteindre: <br />
                      <input type="text" class="form-control" disabled value="<%= achievement.value %>" />
                    </div>
                  </div>
                  <hr />
                </div>
              <% end %>
            <% end %>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
<div class="row">
  <div class="col-md-12">
    <div class="portlet light portlet-fit bordered">
      <div class="portlet-title">
          <div class="caption">
              <i class="fa fa-check-circle-o font-green" style="font-size: 20px;"></i>
              <span class="caption-subject bold font-green uppercase">Objectifs atteint</span>
          </div>
      </div>
      <div class="portlet-body">
        <div class="row">
          <div class="col-md-12">
            <% if @achievements_done.size == 0 %>
              <p>
                Pas d'objectif en cours
              </p>
            <% end %>

            <% @achievements_done.each do |achievement| %>
              <div class="achievement-content">
                <div class="action">
                  <div class="btn-group">
                    <button class="btn btn-circle green btn-sm dropdown-toggle" type="button" data-toggle="dropdown" data-hover="dropdown" data-close-others="true"> <i class="icon-settings"></i>
                      <i class="fa fa-angle-down"></i>
                    </button>
                    <ul class="dropdown-menu pull-right" role="menu">
                        <li>
                            <%= link_to "Supprimer l'objectif", achievement, method: :delete, data: { confirm: 'Êtes-vous sure?' } %>
                          </li>
                      </ul>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    Date de debut: <br />
                    <i class="fa fa-calendar-o font-green" style="font-size: 14px;"></i>
                    <%= achievement.start_date.strftime('%d/%m/%Y') %>
                  </div>
                  <div class="col-md-6">
                    Date de fin d'objectif: <br />
                    <i class="fa fa-calendar-o font-green" style="font-size: 14px;"></i>
                    <%= achievement.due_date.strftime('%d/%m/%Y') %>
                  </div>
                </div>
                <div class="row margin-top-20">
                  <div class="col-md-12">
                    Description de l'objectif: <br />
                    <textarea class="form-control" disabled><%= achievement.content %>
                    </textarea>
                  </div>
                </div>
                <div class="row margin-top-20">
                  <div class="col-md-6">
                    Le type de l'objectif: <br />
                    <input type="text" class="form-control" disabled value="<%= achievement.get_type_in_french %>" />
                  </div>
                  <div class="col-md-6">
                    La valeur a atteindre: <br />
                    <input type="text" class="form-control" disabled value="<%= achievement.value %>" />
                  </div>
                </div>
                <div class="row margin-top-20 margin-bottom-20">
                  <div class="col-md-12">
                    L'objectif est-il atteint ? <br />
                    <% if achievement.is_achieve %>
                      <i class="fa fa-thumbs-o-up font-green" style="font-size: 14px;"></i>
                      Objectif atteint !
                    <% else %>
                      <i class="fa fa-thumbs-o-down font-green" style="font-size: 14px;"></i>
                      Objectif non atteint !
                    <% end %>
                  </div>
                </div>
                <hr />
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-md-12">
    <div class="portlet light portlet-fit bordered">
      <div class="portlet-title">
          <div class="caption">
              <i class="fa fa-times-circle-o font-green" style="font-size: 20px;"></i>
              <span class="caption-subject bold font-green uppercase">Objectifs non atteint</span>
          </div>
      </div>
      <div class="portlet-body">
        <div class="row">
          <div class="col-md-12">
            <% if @achievements_fail.size == 0 %>
              <p>
                Pas d'objectif en cours
              </p>
            <% end %>

            <% @achievements_fail.each do |achievement| %>
              <div class="achievement-content">
                <div class="action">
                  <div class="btn-group">
                      <button class="btn btn-circle green btn-sm dropdown-toggle" type="button" data-toggle="dropdown" data-hover="dropdown" data-close-others="true"> <i class="icon-settings"></i>
                          <i class="fa fa-angle-down"></i>
                      </button>
                      <ul class="dropdown-menu pull-right" role="menu">
                          <li>
                            <%= link_to "Editer l'objectif", edit_achievement_path(achievement) %>
                          </li>
                          <li>
                            <%= link_to "Supprimer l'objectif", achievement, method: :delete, data: { confirm: 'Êtes-vous sure?' } %>
                          </li>
                      </ul>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    Date de debut: <br />
                    <i class="fa fa-calendar-o font-green" style="font-size: 14px;"></i>
                    <%= achievement.start_date.strftime('%d/%m/%Y') %>
                  </div>
                  <div class="col-md-6">
                    Date de fin d'objectif: <br />
                    <i class="fa fa-calendar-o font-green" style="font-size: 14px;"></i>
                    <%= achievement.due_date.strftime('%d/%m/%Y') %>
                  </div>
                </div>
                <div class="row margin-top-20">
                  <div class="col-md-12">
                    Description de l'objectif: <br />
                    <textarea class="form-control" disabled><%= achievement.content %>
                    </textarea>
                  </div>
                </div>
                <div class="row margin-top-20">
                  <div class="col-md-6">
                    Le type de l'objectif: <br />
                    <input type="text" class="form-control" disabled value="<%= achievement.get_type_in_french %>" />
                  </div>
                  <div class="col-md-6">
                    La valeur a atteindre: <br />
                    <input type="text" class="form-control" disabled value="<%= achievement.value %>" />
                  </div>
                </div>
                <div class="row margin-top-20 margin-bottom-20">
                  <div class="col-md-12">
                    L'objectif est-il atteint ? <br />
                    <% if achievement.is_achieve %>
                      <i class="fa fa-thumbs-o-up font-green" style="font-size: 14px;"></i>
                      Objectif atteint !
                    <% else %>
                      <i class="fa fa-thumbs-o-down font-green" style="font-size: 14px;"></i>
                      Objectif non atteint !
                    <% end %>
                  </div>
                </div>
                <hr />
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>